# 存储方案说明

## 问题
28 个书签总大小 8.15KB，超过了 `chrome.storage.sync` 的单个 item 8KB 限制。

## 解决方案
使用混合存储策略：

### 📦 chrome.storage.local (书签)
- **限制**: ~10MB 总容量，单个 item 几乎无限制
- **用途**: 存储书签数据
- **优势**: 
  - 不受 8KB 限制
  - 读写速度快
  - 代码简单，无需分片

### ☁️ chrome.storage.sync (分组和设置)
- **限制**: 100KB 总容量，单个 item 8KB
- **用途**: 存储分组和设置
- **优势**: 可以跨设备同步

## 为什么不分片存储？

分片存储（将 28 个书签拆分成多个 key）的缺点：
1. **复杂度高**: 需要管理 `bookmarks_0`, `bookmarks_1`, `bookmarks_2`...
2. **性能差**: 读取需要多次查询然后合并
3. **维护难**: 增删改都需要重新计算分片
4. **仍有限制**: sync storage 总容量只有 100KB

## 当前方案优势
✅ 简单直接  
✅ 性能好  
✅ 容量大 (10MB vs 100KB)  
✅ 分组和设置仍可跨设备同步  

## 使用说明
重新加载扩展后，现有书签会自动迁移到 local storage。
